<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>××¡×¢ ×‘×™×•×•×Ÿ - ××©×—×§ ×™×“×¢</title>
  <style>
    html {
      box-sizing: border-box;
      font-size: 16px;
    }
    *, *:before, *:after {
      box-sizing: inherit;
    }
    body {
      font-family: 'Varela Round', sans-serif;
      background: linear-gradient(to bottom right, #b2ebf2, #e1f5fe);
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Parthenon_in_Athens.jpg/800px-Parthenon_in_Athens.jpg'); /* ×“×•×’××” ×œ×¨×§×¢ ×™×•×•× ×™ */
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      direction: rtl;
      position: relative; /* ×¢×‘×•×¨ ××¤×§×˜ ×©×›×‘×ª ×¢×œ */
    }
    body::before { /* ×©×›×‘×ª ×¢×œ ×›×”×” ×™×•×ª×¨ ×›×“×™ ×©×”×˜×§×¡×˜ ×™×”×™×” ×§×¨×™× */
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.7); /* ×œ×‘×Ÿ ×©×§×•×£ */
      z-index: -1;
    }
    h1 {
      background-color: #0288d1;
      color: white;
      width: 100%;
      margin: 0;
      padding: 1rem 0;
      text-align: center;
      font-size: 1.8rem; /* ×’×•×“×œ ×›×•×ª×¨×ª ×’×“×•×œ ×™×•×ª×¨ */
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      z-index: 10;
    }
    #start-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      padding: 2rem 1rem;
      max-width: 90vw;
      background-color: rgba(255, 255, 255, 0.9); /* ×¨×§×¢ ×œ×‘×Ÿ ×©×§×•×£ */
      border-radius: 15px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.3);
      margin-top: 2rem;
    }
    #start-screen p {
        font-size: 1.1rem;
        line-height: 1.6;
        color: #333;
    }
    #start-button {
      background-color: #0288d1;
      color: white;
      border: none;
      padding: 1.2rem 2.5rem; /* ×›×¤×ª×•×¨ ×’×“×•×œ ×™×•×ª×¨ */
      font-size: 1.4rem; /* ×˜×§×¡×˜ ×’×“×•×œ ×™×•×ª×¨ */
      font-weight: bold;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
      transition: background-color 0.3s ease, transform 0.2s ease; /* ×× ×™××¦×™×” ×‘×œ×—×™×¦×” */
    }
    #start-button:hover {
      background-color: #01579b;
      transform: translateY(-2px);
    }
    #start-button:active {
      transform: translateY(0);
      box-shadow: 0 2px 3px rgba(0,0,0,0.2);
    }
    #game-container {
      display: none;
      flex-direction: column;
      align-items: center;
      width: 100%;
      padding: 1rem;
      background-color: rgba(255, 255, 255, 0.9);
      border-radius: 15px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.3);
      margin-top: 2rem;
      max-width: 600px; /* ×¨×•×—×‘ ××•×’×‘×œ ×œ×§×•× ×˜×™×™× ×¨ ×”××©×—×§ */
    }
    #hangman {
      margin-top: 1rem;
      background-color: #ffffff;
      border: 2px solid #0288d1;
      border-radius: 10px;
      max-width: 90vw;
      height: auto;
    }
    .question {
      font-size: 1.4rem; /* ×’×•×“×œ ×©××œ×” ×’×“×•×œ ×™×•×ª×¨ */
      margin: 2rem 1rem 1rem;
      color: #01559b; /* ×›×—×•×œ ×›×”×” ×™×•×ª×¨ */
      font-weight: bold;
      text-align: center;
      min-height: 3em; /* ×›×“×™ ×œ×× ×•×¢ ×§×¤×™×¦×•×ª ×ª×•×›×Ÿ */
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .answers {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin: 1rem;
      gap: 12px; /* ×¨×•×•×— ×’×“×•×œ ×™×•×ª×¨ ×‘×™×Ÿ ×›×¤×ª×•×¨×™× */
      max-width: 100%;
    }
    .feedback {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin: 15px; /* ×¨×•×•×— ×’×“×•×œ ×™×•×ª×¨ */
      min-height: 4em; /* ×›×“×™ ×œ×× ×•×¢ ×§×¤×™×¦×•×ª ×ª×•×›×Ÿ */
      text-align: center;
    }
    .feedback > div { /* ×”×’×“×œ×ª ×’×•×“×œ ×¤×•× ×˜ ×•×©×•×¨×ª ×¨×•×•×— ×œ×¤×™ ×‘×§×©×” */
        font-size: 1.15em; /* 20% ×™×•×ª×¨ ××”×’×•×“×œ ×”×¡×˜× ×“×¨×˜×™ ×‘-feedback */
        line-height: 1.6; /* 60% ×™×•×ª×¨ ××¨×•×•×— ×‘×™×Ÿ ×”×©×•×¨×•×ª */
        margin-bottom: 0.5em; /* ×—×¦×™ ×©×•×¨×ª ×¨×•×•×— ×‘×™×Ÿ ×“×™×‘×™× */
    }
    .answers button, .feedback button {
      padding: 0.9rem 1.8rem; /* ×›×¤×ª×•×¨×™× ×’×“×•×œ×™× ×™×•×ª×¨ */
      font-size: 1.1rem; /* ×˜×§×¡×˜ ×’×“×•×œ ×™×•×ª×¨ */
      background-color: #4fc3f7;
      color: white;
      border: none;
      border-radius: 8px;
      transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.2s ease;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.15);
      min-width: 120px; /* ×¨×•×—×‘ ××™× ×™××œ×™ ×œ×›×¤×ª×•×¨×™× */
    }
    .answers button:hover {
      background-color: #0288d1;
      transform: translateY(-2px);
    }
    .answers button:active {
      transform: translateY(0);
      box-shadow: 0 2px 3px rgba(0,0,0,0.15);
    }

    /* ×¦×‘×¢×™× ×œ×ª×©×•×‘×•×ª */
    .answers button.correct {
        background-color: #4CAF50 !important; /* ×™×¨×•×§ */
        transform: scale(1.05);
        box-shadow: 0 0 15px rgba(76, 175, 80, 0.7);
    }
    .answers button.wrong {
        background-color: #f44336 !important; /* ××“×•× */
        transform: scale(0.95);
        opacity: 0.7;
    }
    .answers button.disabled { /* ×›×¤×ª×•×¨ ×©× ×‘×—×¨ ×•×©×™×™× ×¢×œ ×œ×–××Ÿ ××” */
        pointer-events: none;
        opacity: 0.6;
    }

    #result {
      font-size: 1.5rem; /* ×’×•×“×œ ×’×“×•×œ ×™×•×ª×¨ */
      margin-top: 1.5rem;
      color: #d32f2f;
      font-weight: bold;
      text-align: center;
    }
    #score {
      margin-top: 1rem;
      font-size: 1.1rem;
      color: #333;
      font-weight: bold;
      text-align: center;
      padding: 0.5rem 1rem;
      background-color: #e0f2f7;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      min-width: 200px;
    }
    .flag-img {
      width: 100px; /* ×“×’×œ×™× ×’×“×•×œ×™× ×™×•×ª×¨ */
      height: auto;
      border: 2px solid #ccc;
      border-radius: 6px;
      vertical-align: middle;
    }
    
    /* ××¡×š ×¡×™×•× ××©×—×§ */
    #end-screen {
        display: none; /* × ×ª×—×™×œ ×¢× display: none */
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 2rem 1rem;
        max-width: 90vw;
        background-color: rgba(255, 255, 255, 0.95);
        border-radius: 15px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        margin-top: 2rem;
        animation: fadeIn 1s ease-out;
        width: 100%; /* ×›×“×™ ×©×™×§×‘×œ ××ª ×”××§×¡×™××•× ×¨×•×—×‘ ×©×œ ×”×§×•× ×˜×™×™× ×¨ */
        max-width: 600px; /* ×›××• ×” game-container */
    }
    #end-screen h2 {
        font-size: 2.2rem;
        color: #0288d1;
        margin-bottom: 1rem;
        animation: bounceIn 0.8s ease-out;
    }
    #end-screen p {
        font-size: 1.3rem;
        color: #555;
        margin-bottom: 1.5rem;
    }
    #end-screen img {
        max-width: 150px;
        margin-bottom: 1.5rem;
        animation: scaleIn 0.8s ease-out;
    }
    #end-screen .play-again-button {
        background-color: #0288d1;
        color: white;
        border: none;
        padding: 1.2rem 2.5rem;
        font-size: 1.4rem;
        font-weight: bold;
        border-radius: 10px;
        cursor: pointer;
        box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        transition: background-color 0.3s ease, transform 0.2s ease;
    }
    #end-screen .play-again-button:hover {
        background-color: #01579b;
        transform: translateY(-2px);
    }
    #achievements-display {
        margin-top: 1.5rem;
        text-align: center;
        font-size: 1.1rem;
        color: #01579b;
        font-weight: bold;
    }
    .achievement-icon {
        width: 30px;
        height: 30px;
        vertical-align: middle;
        margin-left: 5px;
    }

    /* ×× ×™××¦×™×•×ª */
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    @keyframes bounceIn {
        0% { transform: scale(0.3); opacity: 0; }
        50% { transform: scale(1.1); opacity: 1; }
        70% { transform: scale(0.9); }
        100% { transform: scale(1); }
    }
    @keyframes scaleIn {
        from { transform: scale(0); opacity: 0; }
        to { transform: scale(1); opacity: 1; }
    }


    @media (max-width: 480px) {
      .question {
        font-size: 1.2rem;
      }
      .answers button {
        font-size: 1rem;
        padding: 0.6rem 1.2rem;
        min-width: unset;
      }
      #start-button, #end-screen .play-again-button {
          font-size: 1.1rem;
          padding: 1rem 2rem;
      }
      #end-screen h2 {
          font-size: 1.8rem;
      }
      #end-screen p {
          font-size: 1.1rem;
      }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
</head>
<body>
  <h1>××¡×¢ ×‘×™×•×•×Ÿ - ××©×—×§ ×™×“×¢</h1>
  <div id="start-screen">
    <p>×‘×¨×•×›×™× ×”×‘××™× ×œ××¡×¢ ××¨×ª×§ ×‘×™×•×•×Ÿ!<br>
    ×‘××©×—×§ ×ª×¦×˜×¨×›×• ×œ×¢× ×•×ª ×¢×œ ×©××œ×•×ª ×‘× ×•×©× ×™×•×•×Ÿ â€“ ×”××“×™× ×”, ×”×ª×¨×‘×•×ª, ×”×××›×œ×™× ×•×”×˜×‘×¢ ×©×œ×”.<br>
    ×‘×›×œ ×˜×¢×•×ª, ×™×™×‘× ×” ×—×œ×§ × ×•×¡×£ ××¦×™×•×¨ ××™×© ×”×ª×œ×•×™. × ×¡×• ×œ×¢× ×•×ª × ×›×•×Ÿ ×¢×œ ×›×œ ×”×©××œ×•×ª ×›×“×™ ×œ× ×¦×— ×•×œ×”×™×•×ª ××•××—×™ ×™×•×•×Ÿ!</p>
    <button id="start-button">×”×ª×—×œ ××ª ×”××¡×¢</button>
  </div>
  <div id="game-container">
    <canvas id="hangman" width="200" height="250" aria-label="×¦×™×•×¨ ×©×œ ××™×© ×ª×œ×•×™"></canvas>
    <div id="score"></div>
    <div class="question" id="question"></div>
    <div class="answers" id="answers"></div>
    <div class="feedback" id="feedback"></div>
  </div>
  <div id="end-screen"></div>

  <audio id="correct-sound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_b9383cdd88.mp3?filename=correct-6033.mp3"></audio>
  <audio id="wrong-sound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_68b2f7d56f.mp3?filename=wrong-6034.mp3"></audio>
  <audio id="win-sound" src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_f5581c15f9.mp3?filename=success-1-6297.mp3"></audio>
  <audio id="lose-sound" src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_b9e676100c.mp3?filename=negative_beeps-6008.mp3"></audio>


  <script>
    // ×”×’×“×¨×ª ××©×ª× ×™× ×’×œ×•×‘×œ×™×™×
    const questions = [
      {
        q: "××™×–×” ××”×“×’×œ×™× ×”×‘××™× ×©×™×™×š ×œ×™×•×•×Ÿ?",
        a: [
          "https://upload.wikimedia.org/wikipedia/commons/b/ba/Flag_of_Germany.svg",
          "https://upload.wikimedia.org/wikipedia/commons/5/5c/Flag_of_Greece.svg",
          "https://upload.wikimedia.org/wikipedia/commons/0/05/Flag_of_Brazil.svg",
          "https://upload.wikimedia.org/wikipedia/commons/c/c3/Flag_of_France.svg"
        ],
        c: 1,
        e: "×–×”×• ×”×“×’×œ ×©×œ ×™×•×•×Ÿ â€“ ×›×—×•×œ ×œ×‘×Ÿ ×¢× ×¦×œ×‘ ×‘×¤×™× ×”. ×”×“×’×œ ××™×™×¦×’ ××ª ×¦×‘×¢×™ ×”×™× ×•×”×©××™×™× ×•××ª ×××‘×§ ×”×—×•×¤×©."
      },
      { q: "×›××” ×ª×•×©×‘×™× ×—×™×™× ×‘×™×•×•×Ÿ (× ×›×•×Ÿ ×œ-2023)?", a: ["5.6 ××™×œ×™×•×Ÿ", "10.41 ××™×œ×™×•×Ÿ", "16.61 ××™×œ×™×•×Ÿ", "22.35 ××™×œ×™×•×Ÿ"], c: 1, e: "×‘×™×•×•×Ÿ ×—×™×™× ×›-10.41 ××™×œ×™×•×Ÿ ×ª×•×©×‘×™× × ×›×•×Ÿ ×œ×©× ×ª 2023. ×™×•×•×Ÿ ×”×™× ××“×™× ×” ×œ× ×’×“×•×œ×” ×‘××™×•×—×“, ××‘×œ ×¢× ×”×™×¡×˜×•×¨×™×” ×¢×©×™×¨×”!" },
      { q: "××”×™ ×¢×™×¨ ×”×‘×™×¨×” ×©×œ ×™×•×•×Ÿ?", a: ["××ª×•× ×”", "×¡×œ×•× ×™×§×™", "×›×¨×ª×™×", "××™×§×•× ×•×¡"], c: 0, e: "××ª×•× ×” ×”×™× ×¢×™×¨ ×”×‘×™×¨×” ×©×œ ×™×•×•×Ÿ. ×”×™× ×¢×™×¨ ×¢×ª×™×§×” ×•××œ××” ×‘×”×™×¡×˜×•×¨×™×” ××¨×ª×§×ª!" },
      { q: "×”×× ×™×•×•×Ÿ ××“×™× ×” ××¤×•×ª×—×ª ××• ××ª×¤×ª×—×ª?", a: ["××¤×•×ª×—×ª", "××ª×¤×ª×—×ª"], c: 0, e: "×™×•×•×Ÿ × ×—×©×‘×ª ××“×™× ×” ××¤×•×ª×—×ª ×‘××™×¨×•×¤×”, ×•×”×™× ×—×œ×§ ××”××™×—×•×“ ×”××™×¨×•×¤×™." },
      { q: "××”×• ×”×¨ ×’×‘×•×” ×•××¤×•×¨×¡× ×‘×™×•×•×Ÿ?", a: ["×”×¨ ×”××•×œ×™××¤×•×¡", "×”×¨ ×—×¨××•×Ÿ", "×”×¨ ×”×’×œ×‘×•×¢", "×”×¨ ××ª× ×”"], c: 0, e: "×”×¨ ×”××•×œ×™××¤×•×¡ ×”×•× ×”×’×‘×•×” ×‘×™×•×•×Ÿ ×•× ×—×©×‘ ××§×•× ××•×©×‘ ×”××œ×™× ×‘××™×ª×•×œ×•×’×™×” ×”×™×•×•× ×™×ª." },
      { q: "××”×• ×¡×œ×˜ ×™×•×•× ×™ ×˜×™×¤×•×¡×™?", a: ["×—×¡×”, ×¢×’×‘× ×™×™×”, ×’×–×¨", "×¢×’×‘× ×™×™×”, ××œ×¤×¤×•×Ÿ, ×–×™×ª×™×, ×‘×¦×œ, ×’×‘×™× ×ª ×¤×˜×”", "×¢×’×‘× ×™×™×”, ×—×¡×”, ×ª×™×¨×¡", "×¨×§ ××œ×¤×¤×•× ×™×"], c: 1, e: "×¡×œ×˜ ×™×•×•× ×™ (×—×•×¨×™××˜×™×§×™) ×›×•×œ×œ ×¢×’×‘× ×™×™×”, ××œ×¤×¤×•×Ÿ, ×–×™×ª×™×, ×‘×¦×œ ××“×•× ×•×’×‘×™× ×ª ×¤×˜×” ×˜×¢×™××”." },
      { q: "××”×• ×××›×œ ×™×•×•× ×™ ×¢× ×©×›×‘×•×ª ×—×¦×™×œ×™× ×•×‘×©×¨?", a: ["×‘×§×œ×•×•×”", "×¡×•×¤×œ××§×™", "××•×¡×§×”", "×’×™×¨×•×¡"], c: 2, e: "××•×¡×§×” ×”×•× ×ª×‘×©×™×œ ×™×•×•× ×™ ×¢×©×™×¨ ×¢× ×©×›×‘×•×ª ×©×œ ×—×¦×™×œ×™×, ×‘×©×¨ ×˜×—×•×Ÿ ×•×¨×•×˜×‘ ×‘×©××œ ×œ×‘×Ÿ ×•×§×¨××™." },
      { q: "××”×™ ×“×ª ×”×¨×•×‘ ×‘×™×•×•×Ÿ?", a: ["× ×¦×¨×•×ª ×§×ª×•×œ×™×ª", "××¡×œ××", "×™×”×“×•×ª", "× ×¦×¨×•×ª ××•×¨×ª×•×“×•×§×¡×™×ª"], c: 3, e: "×¨×•×‘ ×”×™×•×•× ×™× ×”× × ×•×¦×¨×™× ××•×¨×ª×•×“×•×§×¡×™×. ×”×›× ×¡×™×•×ª ×©×œ×”× ×™×¤×”×¤×™×•×ª ×•×—×©×•×‘×•×ª ×××•×“ ×œ×ª×¨×‘×•×ª ×”××§×•××™×ª." },
      { q: "××™×š ×§×•×¨××™× ×œ×¨×™×§×•×“ ×”×™×•×•× ×™ ×‘××¢×’×œ×™×?", a: ["×¡×™×¨×˜××§×™", "×˜× ×’×•", "×¤×œ×× ×§×•", "×‘×•×’×™ ×•×•×’×™"], c: 0, e: "×¡×™×¨×˜××§×™ ×”×•× ×¨×™×§×•×“ ×™×•×•× ×™ ××¤×•×¨×¡× ×©×›×•×œ× ×¨×•×§×“×™× ×™×—×“ ×‘××¢×’×œ×™×, ×‘××™×•×—×“ ×‘×¡×•×£ ××¨×•×—×•×ª!" },
      { q: "××”×• ×§×™× ×•×— ×™×•×•× ×™ ××ª×•×§ ×¢× ×“×‘×© ×•××’×•×–×™×?", a: ["×‘×§×œ×•×•×”", "×¢×•×’×ª ×©×•×§×•×œ×“", "×§×¨×•××¡×•×Ÿ", "×¡×•×¤×’× ×™×”"], c: 0, e: "×‘×§×œ×•×•×” ×”×™× ×××¤×” ××ª×•×§ ××ª×•×§ ×¢× ×©×›×‘×•×ª ×‘×¦×§ ×¤×™×œ×•, ××’×•×–×™× ×§×¦×•×¦×™× ×•×”×¨×‘×” ×¡×™×¨×•×¤ ×“×‘×© ×¡××™×š." },
      { q: "××™ ×”×™×” ×¨××© ×”××œ×™× ×‘××™×ª×•×œ×•×’×™×” ×”×™×•×•× ×™×ª, ×©×™×©×‘ ×¢×œ ×”×¨ ×”××•×œ×™××¤×•×¡?", a: ["×¤×•×¡×™×“×•×Ÿ (××œ ×”×™×)", "×”××“×¡ (××œ ×”×©××•×œ)", "×–××•×¡ (××œ ×”×©××™×™× ×•×”×¨×¢×)", "××¤×•×œ×• (××œ ×”×©××©)"], c: 2, e: "×–××•×¡ × ×—×©×‘ ×œ××‘×™ ×”××œ×™× ×•×”××“×, ×•×©×œ×™×˜ ×”×¨ ×”××•×œ×™××¤×•×¡. ×”×•× ×™×“×•×¢ ×‘×‘×¨×§×™× ×©×œ×•!" },
      { q: "×”×™×›×Ÿ × ×•×œ×“×• ×”××©×—×§×™× ×”××•×œ×™××¤×™×™× ×‘×™×•×•×Ÿ ×”×¢×ª×™×§×”?", a: ["×‘××ª×•× ×”", "×‘××•×œ×™××¤×™×”", "×‘×¡×¤×¨×˜×”", "×‘×›×¨×ª×™×"], c: 1, e: "×”××©×—×§×™× ×”××•×œ×™××¤×™×™× ×”×¨××©×•× ×™× × ×¢×¨×›×• ×‘×¢×™×¨ ××•×œ×™××¤×™×” ×œ×›×‘×•×“ ×”××œ ×–××•×¡. ×–×• ×ª×—×¨×•×ª ×¡×¤×•×¨×˜ ×‘×™× ×œ××•××™×ª ×©××ª×§×™×™××ª ×¢×“ ×”×™×•×!" },
      { q: "××”×• ×”××™ ×”×’×“×•×œ ×‘×™×•×ª×¨ ×‘×™×•×•×Ÿ?", a: ["×¨×•×“×•×¡", "××™×§×•× ×•×¡", "×¡× ×˜×•×¨×™× ×™", "×›×¨×ª×™×"], c: 3, e: "×›×¨×ª×™× ×”×•× ×”××™ ×”×’×“×•×œ ×‘×™×•×ª×¨ ×‘×™×•×•×Ÿ ×•×”×—××™×©×™ ×‘×’×•×“×œ×• ×‘×™× ×”×ª×™×›×•×Ÿ. ×™×© ×‘×• ×—×•×¤×™× ×™×¤×™×, ×”×™×¡×˜×•×¨×™×” ×¢×©×™×¨×” ×•××•×›×œ × ×”×“×¨!" },
      { q: "×‘×¡×™×¤×•×¨ ×”××¤×•×¨×¡× ×¢×œ ××œ×—××ª ×˜×¨×•×™×”, ×‘××™×–×• ×ª×—×‘×•×œ×” ×”×©×ª××©×• ×”×™×•×•× ×™× ×›×“×™ ×œ×›×‘×•×© ××ª ×”×¢×™×¨?", a: ["×—×¤×¨×• ×× ×”×¨×”", "×‘× ×• ×¡×•×¡ ×¢×¥ ×¢× ×§", "×”×¨×¢×™×œ×• ××ª ×”××™×", "×”×ª×—×¤×©×• ×œ×—×™×™×œ×™× ×˜×¨×•×™×× ×™×"], c: 1, e: "×”×™×•×•× ×™× ×‘× ×• ×¡×•×¡ ×¢×¥ ×—×œ×•×œ, ×”×¡×ª×ª×¨×• ×‘×ª×•×›×•, ×•×”×˜×¨×•×™×× ×™× ×”×›× ×™×¡×• ××•×ª×• ×œ×¢×™×¨× ××‘×œ×™ ×œ×“×¢×ª ××” ×™×© ×‘×¤× ×™×. ×ª×—×‘×•×œ×” ××‘×¨×™×§×” ××š ××¡×•×›× ×ª!" },
      { q: "××™×–×” ××™ ×™×•×•× ×™ ××¤×•×¨×¡× ×‘×–×›×•×ª ×”×‘×ª×™× ×”×œ×‘× ×™× ×¢× ×”×›×™×¤×•×ª ×”×›×—×•×œ×•×ª ×•×”×©×§×™×¢×•×ª ×”××¨×”×™×‘×•×ª?", a: ["×§×¤×¨×™×¡×™×Ÿ", "×¡× ×˜×•×¨×™× ×™", "×§×•×¨×¤×•", "××™×•×¡"], c: 1, e: "×”××™ ×¡× ×˜×•×¨×™× ×™ × ×•×¦×¨ ××”×ª×¤×¨×¦×•×ª ×”×¨ ×’×¢×©, ×•×”× ×•×£ ×©×œ×• ×¢× ×”×‘×ª×™× ×”×œ×‘× ×™× ×•×”×›×™×¤×•×ª ×”×›×—×•×œ×•×ª ×”×•× ××”××¤×•×¨×¡××™× ×•×”××¦×•×œ××™× ×‘×¢×•×œ×!" },
      { q: "×‘××™×–×” ××˜×‘×¢ ××©×ª××©×™× ×”×™×•× ×‘×™×•×•×Ÿ?", a: ["×“×¨×›××”", "×œ×™×¨×”", "×“×•×œ×¨", "××™×¨×•"], c: 3, e: "×™×•×•×Ÿ ×”×™× ×—×œ×§ ××”××™×—×•×“ ×”××™×¨×•×¤×™, ×•×œ×›×Ÿ ×”××˜×‘×¢ ×”×¨×©××™ ×©×œ×” ×”×•× ×”××™×¨×• (â‚¬). ×‘×¢×‘×¨ ×”×©×ª××©×• ×‘×“×¨×›××”." },
      { q: "××™×–×” ×’×™×‘×•×¨ ××”××™×ª×•×œ×•×’×™×” ×”×™×•×•× ×™×ª ×”×™×” ×—×–×§ ×××•×“ ×•× ××œ×¥ ×œ×‘×¦×¢ 12 ××©×™××•×ª ×§×©×•×ª?", a: ["×¤×¨×¡××•×¡", "×”×¨×§×•×œ×¡", "×ª×–××•×¡", "××•×“×™×¡××•×¡"], c: 1, e: "×”×¨×§×•×œ×¡ ×”×™×” ×‘× ×• ×©×œ ×–××•×¡, ×•× ×•×“×¢ ×‘×›×•×—×• ×”×¢×¦×•××” ×•×‘-12 ×”××˜×œ×•×ª ×©×”×•×˜×œ×• ×¢×œ×™×• ×›×¢×•× ×©. ×”×•× ×”×™×” ×’×™×‘×•×¨ ×¢×œ ×××ª!" },
      { q: "××™×š × ×§×¨× ×›×œ×™ ×”× ×’×™× ×” ×”×™×•×•× ×™ ×”××¤×•×¨×¡×, ×‘×¢×œ ×”×¦×•×•××¨ ×”××¨×•×š ×•×”×¦×œ×™×œ ×”××™×•×—×“?", a: ["×’×™×˜×¨×”", "×›×™× ×•×¨", "×‘×•×–×•×§×™", "×—×œ×™×œ"], c: 2, e: "×”×‘×•×–×•×§×™ ×”×•× ×›×œ×™ ××™×ª×¨ ××¨×›×–×™ ×‘××•×–×™×§×” ×”×™×•×•× ×™×ª ×”×¢×××™×ª ×•×”×¤×•×¤×•×œ×¨×™×ª. ×”×¦×œ×™×œ ×©×œ×• ×××•×“ ××•×¤×™×™× ×™ ×œ×™×•×•×Ÿ!" },
      { q: "×¢×œ ×©× ××™×–×• ××œ×” ××”××™×ª×•×œ×•×’×™×” × ×§×¨××ª ×¢×™×¨ ×”×‘×™×¨×” ××ª×•× ×”?", a: ["××¤×¨×•×“×™×˜×”, ××œ×ª ×”××”×‘×”", "×”×¨×”, ××©×ª ×–××•×¡", "××ª× ×”, ××œ×ª ×”×—×•×›××”", "××¨×˜××™×¡, ××œ×ª ×”×¦×™×“"], c: 2, e: "××ª×•× ×” × ×§×¨××ª ×¢×œ ×©× ×”××œ×” ××ª× ×”, ××œ×ª ×”×—×•×›××” ×•×”××œ×—××”. ×œ×¤×™ ×”××™×ª×•×œ×•×’×™×”, ×”×™× ×”×¢× ×™×§×” ×œ×¢×™×¨ ××ª ×¢×¥ ×”×–×™×ª ×‘××ª× ×”." },
      { q: "××” ××©××¢×•×ª ×”××™×œ×” '××§×¨×•×¤×•×œ×™×¡' ×‘×™×•×•× ×™×ª?", a: ["×”×©×•×§ ×”××¨×›×–×™", "×”× ××œ ×”×’×“×•×œ", "×”×¢×™×¨ ×”×¢×œ×™×•× ×”", "×”×ª×™××˜×¨×•×Ÿ ×”×¢×ª×™×§"], c: 2, e: "'××§×¨×•' ×¤×™×¨×•×©×• ×’×‘×•×”, ×•'×¤×•×œ×™×¡' ×¤×™×¨×•×©×• ×¢×™×¨. ×”××§×¨×•×¤×•×œ×™×¡ ×”×™×™×ª×” ×”×’×‘×¢×” ×”××‘×•×¦×¨×ª ×•×”×—×©×•×‘×” ×‘×¢×™×¨, ×©×©×™××©×” ×œ××§×“×©×™× ×•×”×’× ×”." }
    ];

    let current = 0;
    let questionOrder = [];
    let errors = 0;
    let correctCount = 0;
    const maxErrors = 9; // ××¡×¤×¨ ×”×˜×¢×•×™×•×ª ×”××§×¡×™××œ×™ ×œ×¤× ×™ ×©×”××™×© × ×ª×œ×”
    let consecutiveErrors = 0; // ××•× ×” ×˜×¢×•×™×•×ª ×¨×¦×•×¤×•×ª ×œ×©××œ×” ××—×ª

    const canvas = document.getElementById('hangman');
    const ctx = canvas.getContext('2d');
    const correctSound = document.getElementById('correct-sound');
    const wrongSound = document.getElementById('wrong-sound');
    const winSound = document.getElementById('win-sound');
    const loseSound = document.getElementById('lose-sound');
    const startButton = document.getElementById("start-button");


    // ××•×‘×™×™×§×˜ ×œ×©××™×¨×ª ×”×™×©×’×™×
    const achievements = {
        flagExpert: { earned: false, description: "××•××—×” ×“×’×œ×™×: ×¢× ×™×ª × ×›×•×Ÿ ×¢×œ ×©××œ×ª ×”×“×’×œ!", icon: "ğŸŒŸ" },
        foodie: { earned: false, description: "×’××•×Ÿ ×§×•×œ×™× ×¨×™: ×¢× ×™×ª × ×›×•×Ÿ ×¢×œ ×›×œ ×©××œ×•×ª ×”××•×›×œ!", icon: "ğŸ•" }, 
        mythologyMaster: { earned: false, description: "××©×£ ××™×ª×•×œ×•×’×™×”: ×¢× ×™×ª × ×›×•×Ÿ ×¢×œ ×›×œ ×©××œ×•×ª ×”××™×ª×•×œ×•×’×™×”!", icon: "ğŸ›ï¸" },
        greeceChampion: { earned: false, description: "××œ×•×£ ×™×•×•×Ÿ: ×¡×™×™××ª ××ª ×”××©×—×§ ×œ×œ× ×˜×¢×•×ª ××—×ª!", icon: "ğŸ†" }
    };
    let currentAchievements = []; // ×”×™×©×’×™× ×©×©×—×§×Ÿ ×¦×‘×¨ ×‘×¡×©×Ÿ ×”× ×•×›×—×™

    // **×©×™× ×•×™ ×œ×˜×™×¤×•×œ ×‘×¦×œ×™×œ×™×:**
    // ×× ×—× ×• ××¦×¨×¤×™× Event Listener ×œ××™×¨×•×¢ 'canplaythrough'
    // ×–×” ××‘×˜×™×— ×©×”××•×“×™×• ××•×›×Ÿ ×œ× ×’×™× ×” ×‘××•×¤×Ÿ ××œ× ×œ×¤× ×™ ×©× × ×¡×” ×œ×”×¤×¢×™×œ ××•×ª×•.
    // ×–×” ×§×¨×™×˜×™ ×¢×‘×•×¨ ×“×¤×“×¤× ×™× ××¡×•×™××™× ×•×¡×‘×™×‘×•×ª ××¡×•×™××•×ª.
    [correctSound, wrongSound, winSound, loseSound].forEach(sound => {
        sound.addEventListener('canplaythrough', () => {
            console.log(`${sound.id} ready to play.`);
        });
        sound.load(); // ×¢×“×™×™×Ÿ ×˜×•×¢×Ÿ ××ª ×”×§×‘×¦×™× ××¨××©
    });


    document.addEventListener('DOMContentLoaded', (event) => {
        startButton.addEventListener("click", () => {
            startGame();
            // × ×’×Ÿ ×¦×œ×™×œ ×§×¦×¨ ×•×©×§×˜ ×›××Ÿ ×›×“×™ "×œ×¤×ª×•×—" ××ª ×”-audio context
            // ×–×• ×”×“×¨×š ×”××•××œ×¦×ª ×‘×“×¤×“×¤× ×™× ××•×“×¨× ×™×™× ×›×“×™ ×œ××¤×©×¨ × ×’×™× ×” ××•×˜×•××˜×™×ª ×××•×—×¨ ×™×•×ª×¨
            // × ×©×ª××© ×‘-Promise ×›×“×™ ×œ×•×•×“× ×©× ×’×™× ×” ×”×ª×—×™×œ×” ××• × ×ª×¤×¡×” ×©×’×™××”
            correctSound.volume = 0.01; // ×•×•×œ×™×•× × ××•×š ×××•×“ ×œ×¦×œ×™×œ ×”×¤×ª×™×—×”
            correctSound.play().then(() => {
                console.log("Dummy sound played successfully.");
                correctSound.volume = 1; // ×”×—×–×¨ ×•×•×œ×™×•× ×¨×’×™×œ
            }).catch(e => console.warn("Audio autoplay prevented, this is expected:", e));
        });
    });

    function startGame() {
        questionOrder = [...Array(questions.length).keys()].sort(() => Math.random() - 0.5); // ×¢×¨×‘×•×‘ ×”×©××œ×•×ª
        current = 0;
        errors = 0;
        correctCount = 0;
        currentAchievements = [];
        consecutiveErrors = 0; // ××™×¤×•×¡ ××•× ×” ×˜×¢×•×™×•×ª ×¨×¦×•×¤×•×ª
        resetHangman(); // ××™×¤×•×¡ ×¦×™×•×¨ ×”××™×© ×”×ª×œ×•×™
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('game-container').style.display = 'flex';
        document.getElementById('end-screen').style.display = 'none'; // ×•×•×“× ×©××¡×š ×”×¡×™×•× ××•×¡×ª×¨
        showQuestion();
        updateScore();
        // ××™×¤×•×¡ ×”×™×©×’×™× ××ª×—×™×œ×ª ×”××©×—×§ ×œ××¦×‘ "×œ× × ×¦×‘×¨×•"
        for (const key in achievements) {
            achievements[key].earned = false;
        }
    }

    function updateScore() {
        document.getElementById('score').textContent = `âœ”ï¸ ${correctCount} ×ª×©×•×‘×•×ª × ×›×•× ×•×ª | âŒ ${errors} ×˜×¢×•×™×•×ª`;
    }

    function resetHangman() {
        ctx.clearRect(0, 0, canvas.width, canvas.height); // ×× ×§×” ××ª ×”×§× ×‘×¡
    }

    function drawHangman(error) {
        ctx.lineWidth = 2;
        ctx.strokeStyle = '#000';
        ctx.beginPath(); // ×”×ª×—×œ × ×ª×™×‘ ×—×“×© ×œ×›×œ ×—×œ×§

        switch (error) {
            case 1: ctx.moveTo(10, 240); ctx.lineTo(150, 240); break; // ×‘×¡×™×¡
            case 2: ctx.moveTo(40, 240); ctx.lineTo(40, 20); break;   // ×¢××•×“ ×× ×›×™
            case 3: ctx.moveTo(40, 20); ctx.lineTo(120, 20); break;   // ×§×•×¨×” ×¢×œ×™×•× ×”
            case 4: ctx.moveTo(120, 20); ctx.lineTo(120, 40); break;  // ×—×‘×œ
            case 5: ctx.arc(120, 55, 15, 0, Math.PI * 2); break;      // ×¨××©
            case 6: ctx.moveTo(120, 70); ctx.lineTo(120, 120); break; // ×’×•×£
            case 7: ctx.moveTo(120, 80); ctx.lineTo(100, 100); break; // ×™×“ ×©×××œ
            case 8: ctx.moveTo(120, 80); ctx.lineTo(140, 100); break; // ×™×“ ×™××™×Ÿ
            case 9: ctx.moveTo(120, 120); ctx.lineTo(100, 150); ctx.moveTo(120, 120); ctx.lineTo(140, 150); break; // ×¨×’×œ×™×™×
        }
        ctx.stroke();
    }

    function showQuestion() {
        updateScore();
        document.getElementById('feedback').innerHTML = ''; // ×× ×§×” ×¤×™×“×‘×§ ×§×•×“×
        consecutiveErrors = 0; // ××™×¤×•×¡ ××•× ×” ×˜×¢×•×™×•×ª ×¨×¦×•×¤×•×ª ×œ×©××œ×” ×—×“×©×”

        if (current >= questions.length) {
            // ×›×œ ×”×©××œ×•×ª × ×’××¨×• - × ×™×¦×—×•×Ÿ
            endGame(true);
            return;
        }
        
        const q = questions[questionOrder[current]];
        document.getElementById('question').textContent = q.q;
        let answersHTML = '';

        if (q.a[0].includes('http')) { // ×× ×–×• ×©××œ×ª ×“×’×œ (×ª××•× ×”)
            answersHTML = q.a.map((imgUrl, i) =>
                `<button data-index="${i}" onclick="handleAnswer(this, ${i})"><img src="${imgUrl}" alt="××¤×©×¨×•×ª ${i + 1}" class="flag-img"></button>`
            ).join('');
        } else { // ×©××œ×•×ª ×˜×§×¡×˜
            // ×¢×¨×‘×•×‘ ×”×ª×©×•×‘×•×ª ×”××•×¦×’×•×ª ×›×“×™ ×©×œ× ×ª××™×“ ×™×”×™×• ×‘××•×ª×• ×¡×“×¨
            const shuffled = q.a.map((ans, i) => ({ originalIndex: i, text: ans })).sort(() => Math.random() - 0.5);
            answersHTML = shuffled.map(({ originalIndex, text }) =>
                `<button data-index="${originalIndex}" onclick="handleAnswer(this, ${originalIndex})">${text}</button>`
            ).join('');
        }
        document.getElementById('answers').innerHTML = answersHTML;
    }

    // ×¤×•× ×§×¦×™×” ×œ×˜×™×¤×•×œ ×‘×ª×©×•×‘×” (×›×•×œ×œ ×”×–×“×× ×•×ª ×©× ×™×™×”)
    function handleAnswer(buttonElement, chosenIndex) {
        const currentQ = questions[questionOrder[current]];
        const correctIndex = currentQ.c;
        const explanation = currentQ.e;
        const allButtons = document.querySelectorAll('#answers button');

        // × ×˜×¨×•×œ ×œ×—×™×¦×•×ª × ×•×¡×¤×•×ª ×–×× ×™×ª ×¢×œ ×›×œ ×”×›×¤×ª×•×¨×™×
        allButtons.forEach(btn => btn.disabled = true); 

        if (chosenIndex === correctIndex) {
            // ×ª×©×•×‘×” × ×›×•× ×”
            correctCount++;
            correctSound.play();
            buttonElement.classList.add('correct');
            document.getElementById('feedback').innerHTML =
                `<div style='color: green; font-weight: bold;'>âœ… ×›×œ ×”×›×‘×•×“! ×¦×“×§×ª.</div><div style='color: #444;'>${explanation}</div>`;
            updateScore();
            checkAchievements(currentQ.q);
            consecutiveErrors = 0; // ××™×¤×•×¡ ×˜×¢×•×™×•×ª ×¨×¦×•×¤×•×ª ×œ×©××œ×” ×–×•
            setTimeout(nextQuestion, 3500); 
        } else {
            // ×ª×©×•×‘×” ×©×’×•×™×”
            wrongSound.play();
            buttonElement.classList.add('wrong');
            buttonElement.classList.add('disabled'); // × ×¢×œ ××ª ×”×›×¤×ª×•×¨ ×”×©×’×•×™ ×©× ×œ×—×¥

            consecutiveErrors++;
            
            if (consecutiveErrors === 1) {
                // ×˜×¢×•×ª ×¨××©×•× ×” - ×”×–×“×× ×•×ª ×©× ×™×™×” (×•×¦×™×•×¨ ×—×œ×§ ××”××™×© ×”×ª×œ×•×™)
                errors++; // ×”×•×¡×£ ×—×œ×§ ×œ××™×© ×”×ª×œ×•×™ ×‘×˜×¢×•×ª ×”×¨××©×•× ×”
                drawHangman(errors);
                document.getElementById('feedback').innerHTML =
                    `<div style='color: orange; font-weight: bold;'>ğŸ¤” ××•×™ ×œ×! ×˜×¢×™×ª. × ×¡×” ×©×•×‘! ×™×© ×œ×š ×¢×•×“ × ×™×¡×™×•×Ÿ.</div>`;
                // ×©×—×¨×¨ ××ª ×”×›×¤×ª×•×¨×™× ×©×˜×¨× × ×œ×—×¦×• (×›×œ×•××¨, ×œ× ×¡×•×× ×• ×›-wrong)
                allButtons.forEach(btn => {
                    if (!btn.classList.contains('wrong')) { 
                        btn.disabled = false;
                    }
                });
            } else if (consecutiveErrors === 2) {
                // ×˜×¢×•×ª ×©× ×™×™×” - ×”×¦×’ ×ª×©×•×‘×” × ×›×•× ×” ×•×¢×‘×•×¨ (××œ ×ª×•×¡×™×£ ×—×œ×§ × ×•×¡×£ ×œ××™×© ×”×ª×œ×•×™)
                // errors ×œ× ×’×“×œ ×›××Ÿ ×©×•×‘
                const correctButton = Array.from(allButtons).find(btn => parseInt(btn.dataset.index) === correctIndex);
                if (correctButton) {
                    correctButton.classList.add('correct'); // ×”×“×’×©×ª ×”×ª×©×•×‘×” ×”× ×›×•× ×”
                }
                document.getElementById('feedback').innerHTML =
                    `<div style='color: red; font-weight: bold;'>âŒ ×˜×¢×™×ª ×©×•×‘. ×”×ª×©×•×‘×” ×”× ×›×•× ×” ×”×™×: ${currentQ.a[correctIndex].includes('http') ? '×”××¡×•××Ÿ' : currentQ.a[correctIndex]}.</div><div style='color: #444;'>${explanation}</div>`;
                updateScore();
                
                if (errors >= maxErrors) {
                    setTimeout(() => endGame(false), 3500);
                } else {
                    setTimeout(nextQuestion, 3500);
                }
            }
        }
    }

    function nextQuestion() {
        current++;
        showQuestion();
    }

    function checkAchievements(questionText) {
        // ××•××—×” ×“×’×œ×™×
        if (questionText.includes("××™×–×” ××”×“×’×œ×™× ×”×‘××™× ×©×™×™×š ×œ×™×•×•×Ÿ?") && !achievements.flagExpert.earned) {
            achievements.flagExpert.earned = true;
            currentAchievements.push(achievements.flagExpert);
        }
        // ×”×™×©×’×™ ×§×˜×’×•×¨×™×•×ª × ×•×¡×¤×™× (×œ×¦×•×¨×š ×”×“×’××”, ×¢×“×™×™×Ÿ ××•×¤×¢×œ×™× ×‘×¡×•×£ ×”××©×—×§ ×‘×¦×™×•×Ÿ ×’×‘×•×”)
    }

    function endGame(isWin) {
        document.getElementById('game-container').style.display = 'none';
        const endScreen = document.getElementById('end-screen');
        endScreen.style.display = 'flex'; // ×•×•×“× ×©×”××¡×š ××•×¦×’
        
        let endMessage = '';
        let endImage = '';

        if (isWin) {
            winSound.play();
            endMessage = 'ğŸ‰ ×›×œ ×”×›×‘×•×“! × ×™×¦×—×ª ×•×”×¤×›×ª ×œ××•××—×” ×™×•×•×Ÿ ×××™×ª×™!';
            endImage = 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Laurel_Wreath_Transparent.png/200px-Laurel_Wreath_Transparent.png'; // ×–×¨ × ×™×¦×—×•×Ÿ
            // ×‘×“×™×§×ª ×”×™×©×’ "××œ×•×£ ×™×•×•×Ÿ"
            if (errors === 0) {
                achievements.greeceChampion.earned = true;
                currentAchievements.push(achievements.greeceChampion);
            }
            // ×‘×“×™×§×” ×¤×©×•×˜×” ×œ×”×™×©×’×™ ×§×˜×’×•×¨×™×•×ª ×‘×¡×™×•× ×”××©×—×§ (×× ×¢× ×” × ×›×•×Ÿ ×¢×œ ×¨×•×‘ ×”×©××œ×•×ª)
            if (correctCount >= questions.length * 0.8 && !achievements.foodie.earned) {
                achievements.foodie.earned = true;
                currentAchievements.push(achievements.foodie);
            }
            if (correctCount >= questions.length * 0.8 && !achievements.mythologyMaster.earned) {
                 achievements.mythologyMaster.earned = true;
                 currentAchievements.push(achievements.mythologyMaster);
            }

        } else {
            loseSound.play();
            endMessage = 'ğŸ’€ ××•×™ ×œ×! ×”××™×© × ×ª×œ×”... ××‘×œ ××œ ×ª×ª×™×™××©, ×œ××“×ª ×”×¨×‘×” ×¢×œ ×™×•×•×Ÿ!';
            endImage = 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Broken_pottery_shard.svg/200px-Broken_pottery_shard.svg.png'; // ×¨××– ×œ×©×‘×¨
        }

        let achievementsHtml = '';
        if (currentAchievements.length > 0) {
            achievementsHtml = '<div id="achievements-display"><h3>×”×™×©×’×™× ×©×¦×‘×¨×ª ×‘××¡×¢ ×–×”:</h3><ul>';
            currentAchievements.forEach(ach => {
                // ×©×™××•×© ×‘× ×ª×™×‘×™× ××œ××™× ×œ××™×™×§×•× ×™×
                let iconSrc = '';
                if (ach.icon === 'ğŸŒŸ') iconSrc = 'https://upload.wikimedia.org/wikipedia/commons/2/2f/Star_icon_and_bar.svg';
                else if (ach.icon === 'ğŸ•') iconSrc = 'https://upload.wikimedia.org/wikipedia/commons/3/36/Emoji_u1f35f.svg'; 
                else if (ach.icon === 'ğŸ›ï¸') iconSrc = 'https://upload.wikimedia.org/wikipedia/commons/e/e8/Parthenon_icon.svg';
                else if (ach.icon === 'ğŸ†') iconSrc = 'https://upload.wikimedia.org/wikipedia/commons/f/ff/Trophy_font_awesome.svg';

                achievementsHtml += `<li><img src="${iconSrc}" alt="${ach.icon}" class="achievement-icon">${ach.description}</li>`;
            });
            achievementsHtml += '</ul></div>';
        }

        endScreen.innerHTML = `
            <h2>${endMessage}</h2>
            <img src="${endImage}" alt="${isWin ? '×–×¨ × ×™×¦×—×•×Ÿ' : '×©×‘×¨ ×—×¨×¡'}">
            <p>×¦×‘×¨×ª ${correctCount} ×ª×©×•×‘×•×ª × ×›×•× ×•×ª ××ª×•×š ${questions.length} ×©××œ×•×ª.</p>
            ${achievementsHtml}
            <button class="play-again-button" onclick="location.reload()">×©×—×§ ×©×•×‘</button>
        `;
    }

  </script>
</body>
</html>
